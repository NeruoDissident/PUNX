<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Band-Member Network</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

</head>
<body>
<div id="searchContainer"><input id="searchInput" type="text" placeholder="Search nodeâ€¦"></div>
<div id="infoPanel"></div>
<div id="cy"></div>
<div id="map"></div>
<script src="https://unpkg.com/cytoscape@3.23.0/dist/cytoscape.min.js"></script>
<script src="https://unpkg.com/cytoscape-astar/cytoscape-astar.js"></script>
<script src="data.js"></script>
<script src="main.js?v=1.1"></script>
<script src="depthControl.js"></script>
<script src="clusterControl.js"></script>
<script src="showOnlyControl.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="mapView.js"></script>
<script>
  // Wait for DOM and data.js to load, then initialize the graph
  window.addEventListener('DOMContentLoaded', function() {
    // Add a small delay to ensure all scripts are loaded
    setTimeout(function() {
      try {
        if (window.nodes && window.edges && window.initializeGraph) {
          console.log('Initializing graph with', window.nodes.length, 'nodes and', window.edges.length, 'edges');
          window.initializeGraph(window.nodes, window.edges);
          
          if (window.mapView && window.mapView.init) {
            window.mapView.init(window.nodes, window.edges);
          }
        } else {
          console.error('Required data or functions not available:', {
            nodes: !!window.nodes,
            edges: !!window.edges,
            initializeGraph: !!window.initializeGraph
          });
        }
      } catch (error) {
        console.error('Error during initialization:', error);
      }
    }, 100);
  });
</script>
</body>
</html>
